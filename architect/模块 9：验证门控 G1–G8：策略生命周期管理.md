## 验证门控 G1–G8：策略生命周期管理 (Strategy Lifecycle Control)

### 门控总览表

| 阶段 | 关卡名称 | 核心性质 | 准入/准出条件摘要 |
| --- | --- | --- | --- |
| **研发期** | **G1: Static & Schema** | 静态审计 | 必须符合强类型 AI Schema 和白名单规则。 |
|  | **G2: EVM Simulation** | 精度校验 | 链下/链上计算误差必须为 0（位级对齐）。 |
| **测试期** | **G3: Backtest Scoring** | 性能回测 | 夏普比率及最大回撤通过 AI 反馈飞轮评估。 |
|  | **G4: Fuzzing Test** | 压力测试 | 极端 Gas 飙升和流动性枯竭下的 FSM 表现。 |
| **预演期** | **G5: Flow Audit** | 深度审计 | 滑点冲击成本及“毒性流”潜在风险评估。 |
|  | **G6: Shadow Mode** | 影子模式 | 实盘环境下连续 72 小时无故障只读运行。 |
| **上线期** | **G7: Gov Sentinel** | 环境确认 | 哨兵节点确认底层协议 24h 内无重大提案。 |
|  | **G8: MPC Approval** | 最终准入 | 触发大额阈值时需管理员二次确认签名。 |

---

### 详细门控逻辑设计

#### G1: 静态审计与 Schema 验证 (Static & Schema)

* **校验逻辑**：AI 生成的任何交易负载（Payload）必须通过 `FixedPoint` 引擎的类型检查。
* **拦截条件**：目标合约地址不在全局白名单内，或调用了非预置的函数选择器。

#### G2: EVM 仿真精度关卡 (EVM Simulation)

* **核心要求**：利用 **模块 1.1** 的仿真库，强制模拟 Solidity 的整数除法和舍入方向。
* **成功标准**：在本地 Anvil 环境模拟的净值变动与理论计算误差 $\le 1 \text{ wei}$。

#### G3: 绩效量化评分 (Backtest Scoring)

* **评价体系**：通过 **模块 6.2** 的反馈飞轮，自动生成回测报告。
* **核心指标**：回撤补偿后的夏普比率须满足策略分类（如高频/套利）的最低门槛。

#### G4: 极端混沌测试 (Fuzzing & Chaos)

* **注入变量**：主动模拟 RPC 节点 2 个区块的同步延迟（水位线阈值测试）或 Gas 费暴涨 1000 倍。
* **状态检查**：验证幂等状态机（FSM）是否能正确通过交易加速或重试逻辑实现自愈。

#### G5: 滑点与毒性流审计 (Flow Audit)

* **软滑点审计**：计算策略在当前流动性下的市场冲击成本（Market Impact）。
* **拦截逻辑**：若计算结果显示交易会引发超过 0.5% 的瞬间逆向波动（被反向套利），则自动打回优化。

#### G6: 影子模式演练 (Shadow Mode)

* **执行方式**：策略在生产环境中真实接收数据水位线并生成指令，但签名由沙盒环境“伪造”，不广播至主网。
* **准出要求**：策略在 72 小时内需完整经历至少一个“数据水位线延迟”或“预言机偏差”的模拟报警而不发生逻辑崩溃。

#### G7: 治理环境感应 (Governance Sentinel)

* **最后一公里检查**：治理哨兵爬取 Snapshot/Tally 提案。
* **熔断触发**：若底层池子（如 Uniswap V3 相关池）正处于紧急升级或参数调整期，强制挂起策略上线。

#### G8: 机构级签名终审 (Institutional Approval)

* **阈值判断**：若单笔预期交易金额 > $10,000（待评审参数），系统自动进入 `PENDING_APPROVAL`。
* **人工确认**：管理员通过 MPC 节点的管理后台完成最后的权限释放。
